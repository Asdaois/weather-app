(()=>{"use strict";const t=function(){const t="fa1e5b4bc8756a5da47e2ed86ac26e74";async function e(t){const e={};return e.current=t.current,e.hourly=t.hourly,e.daily=t.daily,t}const o={coord:{lon:0,lat:0}},n=t=>{o.coord.lon=t.coords.longitude,o.coord.lat=t.coords.latitude};return{filterForecastData:e,getCoordsFromName:async function(e=""){try{return(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}&units=metric`,{mode:"cors"})).json()}catch(t){return t}},getWheater:async function(o){try{const n=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${o.coord.lat}&lon=${o.coord.lon}&exclude=minutely,alerts&appid=${t}&units=metric`,{mode:"cors"}),c=await n.json();return await e(c)}catch(t){return console.log(o),console.log(t),t}},getUserLocation:async function(){try{window.navigator.geolocation.getCurrentPosition(n,console.log);const t=JSON.stringify(o);return JSON.parse(t)}catch(t){return t}}}}(),e=t=>{console.log(t),new Date(1e3*t.current.dt);const{weather:e,temp:o,humidity:n,wind_speed:c}=t.current;console.log(n)};document.getElementById("btn-city").addEventListener("click",(()=>{const o=document.getElementById("city-name").value;t.getCoordsFromName(o).then(t.getWheater).then(e).catch(console.log)})),document.getElementById("btn-local").addEventListener("click",(()=>{t.getUserLocation().then(t.getWheater).then(e).catch(console.log)})),document.querySelector("img").src="http://openweathermap.org/img/w/10d.png"})();