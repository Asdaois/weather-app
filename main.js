(()=>{"use strict";const t=function(){const t="fa1e5b4bc8756a5da47e2ed86ac26e74";async function e(t){const e={};return e.current=t.current,e.hourly=t.hourly,e.daily=t.daily,t}const n={coord:{lon:0,lat:0}},o=t=>{n.coord.lon=t.coords.longitude,n.coord.lat=t.coords.latitude};return{filterForecastData:e,getCoordsFromName:async function(e=""){try{return(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${t}&units=metric`,{mode:"cors"})).json()}catch(t){return t}},getWheater:async function(n){try{const o=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.coord.lat}&lon=${n.coord.lon}&exclude=minutely,alerts&appid=${t}&units=metric`,{mode:"cors"}),r=await o.json();return await e(r)}catch(t){return console.log(n),console.log(t),t}},getUserLocation:async function(){try{window.navigator.geolocation.getCurrentPosition(o,console.log);const t=JSON.stringify(n);return JSON.parse(t)}catch(t){return t}}}}(),e=async t=>{console.log(t);const e=new Date(1e3*t.current.dt),{weather:n,temp:o,humidity:r,wind_speed:c}=t.current,a=t.hourly;document.getElementById("hour").textContent=`${function(t){switch(t){case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";case 7:return"Sunday"}}(e.getDay())}, ${e.getHours()}:${e.getMinutes()}`,document.getElementById("weather-actual").textContent=`${n[0].main}, ${n[0].description}`,document.querySelector("#other img").src=`http://openweathermap.org/img/w/${n[0].icon}.png`,new Promise((t=>setTimeout(t,500))),document.querySelector("#current-temp").textContent=`${o}Â°`,document.getElementById("rain-value").textContent=100*a[0].pop+"%",document.getElementById("humidity-value").textContent=`${r}%`,document.getElementById("wind").textContent=`${c}m/s`,document.getElementById("weather-display").classList.add("show")};document.getElementById("btn-city").addEventListener("click",(()=>{const n=document.getElementById("city-name").value;t.getCoordsFromName(n).then(t.getWheater).then(e).catch(console.log)})),document.getElementById("btn-local").addEventListener("click",(()=>{t.getUserLocation().then(t.getWheater).then(e).catch(console.log)}))})();